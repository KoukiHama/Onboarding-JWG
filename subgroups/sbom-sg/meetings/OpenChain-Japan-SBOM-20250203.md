# OpenChain Japan Automation & SBOM sg - 2025/02/03  

## 共有された課題  

1. SBOM情報の正確性の欠如  
   パッケージ名、パッケージバージョン、サプライヤー名などの記載方法が部署や提供元によってばらつき、正確かつ一貫した情報が得られない。  
   - パッケージ名の表記方法の違い  
     各ベンダーや部署によって、同じコンポーネントでも名称が微妙に異なって記載されるケースが挙げられる。例えば、ある会社では正式名称と省略形、またはスペルミスや大文字小文字の違いなどが混在しているため、SBOMを受け取る側がその一貫性を保って識別するのが難しい状況が生じる。  
   - バージョン情報の表記の違い  
     同じコンポーネントに対して、一部では "1.0.0" と記載される一方で、他の情報では "v1.0" や異なるフォーマットが使われるなど、バージョン番号の表記方法が統一されておらず、不明瞭になる可能性がある。  
   - サプライヤー名のばらつき  
     サプライヤーの名称も同様に、企業名の正式名称、略称、さらには企業の売却や統合に伴う変動が反映されず、過去の名前がそのまま記載されるなど、一貫性に欠ける。  

2. コンポーネント粒度の不統一  
   複数のサプライヤからSBOMを受領する場合、あるSBOMではコンポーネントがファイル単位で細かく分割されて記載されている一方、別のケースではパッケージ単位でまとめられているため、どこまでの粒度で情報が提供されるのかが統一されず、受け手側で正規化する必要が出てきている。  

3. バイナリ提供時のソース情報不足  
   バイナリ+SBOMを受領した場合、ソースファイルに関する詳細情報（一覧、ハッシュ値、変更履歴など）が含まれておらず、脆弱性管理やリスク評価に活用しにくい。  
   - ソースファイルの一覧  
     どのソースコードファイルがコンポーネントに含まれているかのリスト  
   - ソースファイルのハッシュ値  
     各ファイルの改竄防止や整合性を確認するためのハッシュ値（例: SHA-256）  
   - ライセンス情報  
     各ソースファイルに適用されるライセンスや著作権の情報  
   - パッチや差分情報  
     ソースコードに対して適用された修正やパッチの詳細情報  
   - ビルド環境および構成情報  
     ソースコードがどの環境でビルドされたか、使用されたコンパイラやビルドオプションの情報  
   - 依存関係情報  
     依存している他のライブラリやコンポーネントに関する記述  

4. 脆弱性情報との連携不足  
   SBOMに記載されたコンポーネントやライブラリの情報と、既知の脆弱性情報（セキュリティアドバイザリー、CVEs、PSIRT報告など）の間で、十分な結びつきや連携が取れないケースがある。
   - SBOMと脆弱性データベースの統合の欠如  
     SBOMに記載された各コンポーネント（パッケージ名、バージョン、サプライヤー情報など）が、後に発見された脆弱性情報（例えば、CVE番号や脆弱性の詳細）と自動的に紐付ける一貫した手法が無いため、どの脆弱性がどのソフトウェアコンポーネントに該当するかを把握するのが困難。  
   - 報告ルートと問い合わせ窓口の不整合  
     脆弱性情報が内部のPSIRTやセキュリティチーム、さらには外部からの報告として提供された場合、その情報をSBOMの中でどの場所に反映させるのか、またどの部署が対応すべきかが明確に連携されていないケースがあります。これにより、脆弱性発見時や対応時に情報の伝達が遅れ、対策が迅速に実施できないおそれがあります。  

5. 上流と下流の情報共有・連携の不整合  
   上流のベンダー側から提供されるSBOMと、下流の最終製品を組み立てるメーカー側で管理する情報との間で、情報の連携がうまく取れていない。  
   - 異なるフォーマットや基準の使用  
     SBOM自体のフォーマットや、各社で用いられる脆弱性管理の基準が異なる場合、双方の情報を統一的に解析・照合することが難しい。結果として、脆弱性がどの程度のリスクをもたらすのか、適切な対応が必要かどうかの判断が、担当者の裁量に大きく依存する。  
   - 内部プロセスの断絶  
     上流（ベンダー）が提供するSBOM情報と、下流（最終製品メーカーやセキュリティチーム）が管理する脆弱性情報との間で、定期的な情報更新やフィードバックの仕組みが整備されていないと、両者の整合性が取れず、脆弱性の早期発見や影響評価に支障をきたす状況が生じる。  

6. 契約や内部プロセスにおける責任の所在の不明確さ  
   SBOMを含む情報提供について、契約上どこまで要求すべきか、また問い合わせに対する内部連絡体制（品質管理部門やPSIRT）のプロセスが不十分な場合、誰がどの情報の責任を負うのか明確でないという問題が起こりうる。  

7. SBOMのフォーマット・スタンダードの多様性  
   現状、複数のフォーマット（SPDX、CycloneDX、JSON、Excel形式、その他）が存在しており、統一的なクオリティガイドラインや評価指標が定まっていないため、受け手側での判断にばらつきが生じる。  

8. 改変されたSBOMの信頼性確保の困難さ  
   業者やメーカーによっては、自社ビルドで生成したSBOMと、ベンダー提供のSBOMとで情報が異なる場合があり、この差異が脆弱性評価やリスク管理にどのように影響するか把握することが難しい。
   - 改変プロセスの透明性不足  
     SBOMが生成された後、複数の部門やツールを経由して情報が追加・編集される場合、その改変履歴や加工内容が十分に記録・公開されていなければ、最終的なSBOMが元のソースと一致しているかどうか、透明性が失われる。  
   - 手作業による人為的エラーのリスク  
     SBOM情報が手作業で修正・補完されるフェーズがある場合、その際の入力ミスや意図しない改変が混入する可能性が高く、結果として元々の正確な情報との乖離が生じ、信頼性が低下する。  
   - 自動生成プロセスのバラツキ  
     SBOMの生成に複数の自動化ツールやプロセスが関与している場合、それぞれのツールが出力する情報のフォーマットや記載内容が異なると、途中で統合・編集される際に意図せず情報が抜け落ちたり、変更されたりするリスクがある。  
   - 改変による脆弱性情報の偏在  
     改変されたSBOMでは、本来記載されるべき脆弱性や依存関係の詳細情報が削除・編集される可能性があり、結果として外部・内部のセキュリティ評価が不十分となる。  

9. SBOMに期待すべき追加情報の定義不足  
   例として、SBOMに記載すべきハッシュ値、タイムスタンプ、ソースファイルの一覧などの具体的な項目が明確に定義されておらず、これが各社で異なる情報提供となっているため、後続の解析や脆弱性判定が一層困難になる。  

10. 情報更新と問い合わせ窓口の体制の不備  
    脆弱性発見時の連絡役（PSIRT部門など）と、SBOMに関する問い合わせ対応窓口が明確でない、または一元化されていない場合、情報伝達が滞りやすいという課題が発生する。  

これらの課題に対して、各参加者からは「内部プロセスと品質管理の見直し」「契約上の情報提供義務の明文化」「SBOMクオリティガイドラインの策定」など、解決に向けた考察や提案が議論された。  

## 解決案と自動化について  

1. SBOM情報の正確性の欠如  
   - チェック項目  
     - 各コンポーネントのパッケージ名、バージョン表記、サプライヤー名の記載内容  
     - 名称やバージョンのフォーマットの一貫性  
   - 解決策（プロセス・仕組み）  
     - 業界標準や社内ルールに沿った命名規則・バージョン記載ルールの策定  
     - SBOM生成時にこれらの項目が正規表現等により自動検証される仕組みの導入  
     - 定期的にレビューし不整合箇所を抽出しフィードバックするプロセスの構築  
   - 自動化の可否  
     - 自動化可能：命名規則やバージョンフォーマットのチェックは、専用スクリプトやツールで検証可能。  
     - 人的確認：あいまいなケースや新たな例外には最終的な人によるレビューが必要。  
2. コンポーネント粒度の不統一  
   - チェック項目  
     - 各SBOMでどの単位（ファイル単位、パッケージ単位など）で情報が提供されているか  
     - 記載内容の詳細レベルの違い  
   - 解決策（プロセス・仕組み）  
     - 業界または社内で「望ましい粒度」を明確化し、統一フォーマットの採用とガイドラインの整備  
     - 受け取ったSBOMを正規化し、必要に応じて粒度を統一するための変換コンバータ（中間ツール）の構築  
   - 自動化の可否  
     - 自動化可能：パーサーや変換スクリプトを利用して、異なる粒度のSBOMを統一フォーマットに変換することが可能。  
     - 人的確認：ルールが複雑な場合、最終的な精査は人による判断が必要となる可能性あり。
3. バイナリ提供時のソース情報不足  
   - チェック項目  
     - ソースファイルの一覧の有無  
     - 各ソースファイルのハッシュ値  
     - ライセンスや著作権情報  
     - パッチ／差分情報、変更履歴  
     - ビルド環境、使用コンパイラ、ビルドオプション等の記録  
     - 依存関係情報  
   - 解決策（プロセス・仕組み）  
     - SBOM作成時の必須フィールドとして、前述情報を含める追加ルールの策定  
     - 自動生成ツールの改良・設定により、ソース情報が含まれるSBOMを生成する  
     - 静的解析ツールやビルドプロセスのログから、必要な情報を自動的に抽出し付加するプロセスの導入  
   - 自動化の可否  
     - 自動化可能：ビルドシステムと連携して情報を抽出し、SBOMの生成時に自動付加する仕組みは実現可能。  
     - 人的確認：情報の網羅性や、抜け漏れがないかの最終検査は人の目で確認が必要な場合がある。  
4. 脆弱性情報との連携不足  
   - チェック項目  
     - 各コンポーネントのバージョン情報と脆弱性データベース（CVE、セキュリティアドバイザリー等）の紐付け状況  
     - 問い合わせ先や更新履歴の記載状況  
   - 解決策（プロセス・仕組み）  
     - SBOMの各エントリーに対して、脆弱性情報データベースと自動的にマッチングする仕組みを構築（例：脆弱性スキャナーとの連携）  
     - 定期的な自動スキャンとアラートシステムを設置し、脆弱性発見時に即時対応可能な体制を整備  
     - 問い合わせ窓口の情報をSBOM内に明示し、社内外との連絡ルートを統合する仕組みの策定  
   - 自動化の可否  
     - 自動化可能：脆弱性スキャンツールとの連携や、自動マッチング・アラートシステムの構築はプログラムで自動化可能。  
     - 人的確認：アラート内容の精査や、場合によっては適用可否の判断は人手による確認が必要。  
5. 上流と下流の情報共有・連携の不整合  
   - チェック項目  
     - ベンダーが提供するSBOMと最終製品メーカーの内部SBOMとの内容の差異  
     - 整合性を担保するための更新履歴、差分表示や統合プロセスの有無  
   - 解決策（プロセス・仕組み）  
     - 上流と下流のSBOM情報を集約する共通リポジトリの整備  
     - 定期的な情報同期プロセス（例えば、定期クロスチェック会議、更新時の自動比較ツール）の導入  
     - 統一フォーマットに基づく情報変換ツールの活用で、自動的に整合性を検証する仕組みの構築  
   - 自動化の可否  
     - 自動化可能：SBOMの差分比較ツールや統合ツールを利用することで、更新情報の自動チェックが可能。  
     - 人的確認：完全な相違点や、文脈に依存した情報の評価は最終的に人の確認が必要になりうる。
6. 契約や内部プロセスにおける責任の所在の不明確さ  
   - チェック項目  
     - SBOMに記載される情報提供の範囲と、その責任者・連絡先の明示状況  
     - 契約書や内部ルールに基づく責任範囲の記録状況  
   - 解決策（プロセス・仕組み）  
     - 契約書やSLA（サービスレベルアグリーメント）に、どの情報が必須か、誰が対応するかを明示する  
     - 内部プロセスとして、情報提供後のエスカレーションルール、問い合わせ窓口、担当部門を文書化し、定期的な見直しを行う  
     - SBOMシステム内に、問い合わせ対応や更新履歴の管理機能を組み込む  
   - 自動化の可否  
     - 自動化可能：例えば、SBOMシステム上で連絡先や更新履歴を自動ログとして記録する仕組みはプログラムで実現可能。  
     - 人的チェック：契約や組織プロセスに関する部分は自動化が難しく、文書化と運用ルールの整備が必要。  
7. SBOMのフォーマット・スタンダードの多様性  
   - チェック項目  
     - SBOMの出力フォーマット（例：SPDX、CycloneDX、JSON、Excel等）の識別  
     - フォーマット間で共有するべき必須フィールドの存在状況  
   - 解決策（プロセス・仕組み）  
     - 業界標準（例：SPDXやCycloneDX）に基づく統一ルールまたは変換ツールの採用  
     - 各社のSBOMを共通の中間フォーマットに変換する「フォーマット正規化プロセス」を構築し、評価指標を明確化する  
   - 自動化の可否  
     - 自動化可能：変換ツールやフォーマットチェッカーを用いれば、プログラムで標準準拠性を自動判定可能。  
     - 人的確認：標準外の例外ケースや、変換後の微調整は人的レビューが必要場合がある。  
8. 改変されたSBOMの信頼性確保の困難さ  
   - チェック項目  
     - 改変履歴やバージョン管理、ログ情報の有無  
     - デジタル署名、ハッシュ値などによる真正性の検証情報  
   - 解決策（プロセス・仕組み）  
     - SBOM生成直後に、元の状態のハッシュ値やデジタル署名を付与し、改変があった場合に検知できる仕組みを構築  
     - 改変履歴の管理（例えば、バージョン管理システムの利用）と定期的監査のプロセスを整備する  
     - 信頼性が確保された自動検証ツール（ハッシュ計算、署名検証ツール）の運用  
   - 自動化の可否  
     - 自動化可能：デジタル署名やハッシュ検証はソフトウェアツールで自動化できる。  
     - 人的確認：監査や最終チェックに関しては、場合によっては人の目による確認も必要。  
9. SBOMに期待すべき追加情報の定義不足  
   - チェック項目  
     - 必須とすべき追加情報（ハッシュ値、タイムスタンプ、ソースファイル一覧、ライセンス情報など）の記載状況  
   - 解決策（プロセス・仕組み）  
     - 業界または社内で、SBOMに含むべき必須メタ情報の定義・チェックリストを策定する  
     - 自動生成ツールや静的解析ツールを利用して、これらの必須情報の有無をチェックし、欠陥があればアラートを出す仕組みの導入  
     - 定期的なレビューにより、追加項目の更新や改善を検討するプロセスの実施  
   - 自動化の可否  
     - 自動化可能：チェックリストに基づく自動検証ツールをプログラムで構築可能。  
     - 人的確認：ガイドラインに沿って記載の網羅性を確認する工程も併用が必要。  
10. 情報更新と問い合わせ窓口の体制の不備  
    - チェック項目  
      - SBOMの更新履歴、最終更新日時の記載状況  
      - 問い合わせ窓口や連絡先の記載／明示状況  
    - 解決策（プロセス・仕組み）  
      - 定期的にSBOMの情報を最新状態に更新するためのワークフローを構築し、変更があった場合は自動的に通知する仕組みの導入  
      - 問い合わせ窓口情報をSBOMに必ず含め、専用の連絡管理システム（ヘルプデスクシステム、チャットボット等）との連携プロセスを整備  
      - 更新プロセスに関して各部門間の連携ルールを明文化し、内部監査プロセスを構築する  
   - 自動化の可否  
     - 自動化可能：更新履歴管理、通知システム、問い合わせ窓口への自動リンク付与などは、専用ツールやシステムで自動化可能。  
     - 人的確認：問い合わせ内容の対応や、更新内容の妥当性評価は最終的に人がチェックする必要がある。  
